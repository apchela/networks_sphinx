====================
Уровни модели TCP/IP
====================

*******************
Что включает TCP/IP
*******************

TCP/IP — это стек протоколов, где каждый отвечает за свою задачу.

+-----------------------------------------+-------------------------------------+
|**Протокол**                             |**Назначение**                       |
+-----------------------------------------+-------------------------------------+
| IP (Internet Protocol)                  |Маршрутизация между устройствами     |
+-----------------------------------------+-------------------------------------+
| TCP (Transmission Control Protocol)     |Отвечает за надежную передачу данных |
+-----------------------------------------+-------------------------------------+
| UDP (User Datagram Protocol)            |Быстрая, но менее надежная передача  |
+-----------------------------------------+-------------------------------------+
| ICMP (Internet Control Message Protocol)|Проверка соединения                  |
+-----------------------------------------+-------------------------------------+
| DNS (Domain Name System)                |Преобразует имена сайтов в IP-адреса |
+-----------------------------------------+-------------------------------------+
| HTTP/HTTPS, FTP, SMTP, SSH              |Прикладные протоколы                 |
+-----------------------------------------+-------------------------------------+

TCP/IP имеет всего 4 уровня в отличие от модели :ref:`OSI <section-osi>`.

.. image:: images/tcp.png

1. Канальный (Link Layer) — обеспечивает передачу данных внутри одной сети, используются протоколы Ethernet, Wi-Fi, PPP.
2. Интернет (Internet Layer) — отвечает за маршрутизацию и IP-адресацию.
3. Транспортный (Transport Layer) — контролирует доставку пакетов (TCP, UDP).
4. Прикладной (Application Layer) — сервисы для пользователя и приложений (HTTP, FTP, SMTP, DNS, SSH).

*********************
Принцип работы TCP/IP
*********************

1. Данные разбиваются на пакеты.

Браузер не отправляет всю страницу целиком при открытии сайта. Он делит данные на небольшие части (пакеты).

2. Каждый пакет получает адрес (IP).

В пакете записано, куда он должен попасть (IP-адрес сервера) и откуда пришел (IP отправителя).

3. TCP следит за порядком и целостностью.

Если какой-то пакет потерялся, TCP запрашивает его повторно. Потом собирает все пакеты в правильном порядке.

4. IP обеспечивает доставку по маршруту.

IP определяет путь через маршрутизаторы и сети до конечного узла.

5. На приемной стороне пакеты собираются обратно.

Когда все фрагменты доходят до получателя, они восстанавливаются в исходное сообщение.